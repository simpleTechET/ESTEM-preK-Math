import{j as e}from"./ui-vendor-C-ksHByf.js";import{r}from"./react-vendor-X0Zsz5kA.js";import{C as j,B as w}from"./card-vRStgPWl.js";import{u as b}from"./index-B8EdaNMN.js";import{C as S}from"./circle-check-DnVo0sL9.js";const Y=({items:x,onComplete:c})=>{const t=r.useMemo(()=>[...x].sort(()=>Math.random()-.5),[x]),[i,d]=r.useState([]),[a,N]=r.useState([]),[l,y]=r.useState(0),v=s=>{if(a.includes(s.id)||i.includes(s.id))return;const n=[...i,s.id];if(d(n),n.length===2){y(l+1);const[g,p]=n,m=t.find(h=>h.id===g),u=t.find(h=>h.id===p);(m==null?void 0:m.matchId)===(u==null?void 0:u.matchId)?(N([...a,g,p]),b.success("Great match! ðŸŽ‰",{description:"You found two that are exactly the same!"}),setTimeout(()=>{d([]),a.length+2===t.length&&(c==null||c())},1e3)):(b.error("Not quite! Try again ðŸ’ª",{description:"Look carefully - are they exactly the same?"}),setTimeout(()=>{d([])},1500))}},f=s=>i.includes(s),o=s=>a.includes(s),M=a.length===t.length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Attempts: ",e.jsx("span",{className:"font-semibold text-foreground",children:l})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Matched: ",e.jsx("span",{className:"font-semibold text-foreground",children:a.length/2})," / ",t.length/2]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.map(s=>e.jsxs(j,{onClick:()=>v(s),className:`
              relative aspect-square cursor-pointer transition-all duration-300
              ${o(s.id)?"opacity-50 border-success border-4":""}
              ${f(s.id)?"border-primary border-4 scale-105":""}
              ${!o(s.id)&&!f(s.id)?"hover:scale-105 hover:shadow-playful":""}
            `,children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:e.jsx("img",{src:s.image,alt:"Match item",className:"w-full h-full object-contain"})}),o(s.id)&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx(S,{className:"w-8 h-8 text-success fill-success/20"})})]},s.id))}),M&&e.jsxs(j,{className:"p-8 text-center bg-gradient-to-br from-success/10 to-primary/10 border-2 border-success",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ðŸŽ‰"}),e.jsx("h3",{className:"text-2xl font-bold mb-2 text-foreground",children:"Amazing Job!"}),e.jsxs("p",{className:"text-muted-foreground mb-4",children:["You matched all the objects! You completed it in ",l," attempts."]}),e.jsx(w,{size:"lg",onClick:c,className:"shadow-playful",children:"Continue Learning"})]})]})};export{Y as M};
